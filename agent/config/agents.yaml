model:
  provider: gemini
  name: gemini-3-flash-preview
  image_name: gemini-3-pro-image-preview
  project: my-rd-coe-demo-gen-ai
  location: us-central1
  #api_key: ${GOOGLE_CLOUD_API_KEY}
  api_key: ${GEMINI_API_KEY}
  use_vertex_ai: false

backend:
  workspace_root: backend/workspaces
  virtual_mode: true

tools:
  - name: google_search
    kind: builtin
    description: Gemini-native Google search tool
  - name: google_grounded_search
    kind: builtin
    description: Gemini search with citations for proposal research
  - name: gemini_image
    kind: builtin
    description: Generate or edit images using Gemini
  - name: data_agent_tools
    entrypoint: helpudoc_agent.data_agent_tools:build_data_agent_tools
    description: Tools for Data Agent (DuckDB, Charts)
  - name: get_image_url
    kind: builtin
    description: Get public URLs for images stored in MinIO/S3
  - name: rag_query
    kind: builtin
    description: Query LightRAG for workspace context
  - name: append_to_report
    kind: builtin
    description: Stitch generated proposal sections into a final document

mcp_servers:
  - name: research_fs
    transport: stdio
    command: ./scripts/start_mcp_fs.sh
    description: Example MCP filesystem server

agents:
  - name: research
    display_name: Research Agent
    description: Deep research assistant with critique and sourcing pipeline
    system_prompt_id: research/core
    tools:
      - google_search
    subagents:
      - name: research-agent
        description: Conducts focused research on a single topic
        system_prompt_id: research/sub_researcher
        tools:
          - google_search
      - name: critique-agent
        description: Reviews the final report and suggests improvements
        system_prompt_id: research/critique
        tools:
          - google_search
  - name: general-assistant
    display_name: General Assistant
    description: A general-purpose assistant that can read/edit files and perform web searches.
    system_prompt_id: general/core
    tools:
      - google_search
      - gemini_image
      - get_image_url
      - rag_query
    subagents:
     - name: general-purpose
       description: Standard general-assistant behavior
       system_prompt_id: general/core
       tools:
         - google_search
         - gemini_image
         - get_image_url
         - rag_query
     - name: greeting-responder
       description: Handles lightweight greeting/small-talk tasks
       system_prompt_id: general/core
       tools: []
  - name: infographic-agent
    display_name: Infographic Agent
    description: Create AntV Infographic HTML (with SVG export) from user-provided content.
    system_prompt_id: infographic_agent/core
    tools: []
  - name: data-agent
    display_name: Data Agent
    description: Analyze data files (CSV, Parquet) using SQL and charts.
    system_prompt_id: data_agent/core
    tools:
      - data_agent_tools
    subagents:
      - name: schema-agent
        description: Inspects table structures before any SQL runs.
        system_prompt_id: data_agent/schema
        tools:
          - data_agent_tools
      - name: sql-agent
        description: Crafts and executes DuckDB queries based on the schema plan.
        system_prompt_id: data_agent/sql
        tools:
          - data_agent_tools
      - name: chart-agent
        description: Builds chart configurations or artifacts from the latest query result.
        system_prompt_id: data_agent/chart
        tools:
          - data_agent_tools
      - name: file-agent
        description: Manages generated artifacts and ensures they are documented.
        system_prompt_id: data_agent/file
        tools:
          - data_agent_tools
      - name: summary-agent
        description: Writes the final answer after queries/charts are complete.
        system_prompt_id: data_agent/summary
        tools:
          - data_agent_tools
  - name: proposal-agent
    display_name: Proposal Agent
    description: 3-phase consultative SOW writer with research, planning, and stitching.
    system_prompt_id: proposal_agent/orchestrator
    tools:
      - google_grounded_search
      - append_to_report
    subagents:
      - name: research_agent
        description: Researches client strategy, technical context, and business pains.
        system_prompt_id: proposal_agent/researcher
        tools:
          - google_grounded_search
      - name: writer_agent
        description: Writes proposal sections with diagrams, tables, and stitching support.
        system_prompt_id: proposal_agent/writer
        tools: []
